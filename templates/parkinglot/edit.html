{% extends 'layout.html' %}

{% block title %}
  Edit Parking Lot - Vehicle Parking App
{% endblock %}

{% block content %}
  <h1>Edit Parking Lot</h1>
  <form method="POST" class="form" action="{{ url_for('edit_lot_post', lot_id=parking_lot.id) }}">
    <label for="name" class="form-label">Prime Location Name:
      <input type="text" name="primary_location_name" id="primary_location_name" class="form-control" required value="{{parking_lot.primary_location_name}}">
    </label>
    <label for="name" class="form-label">Address:
      <input type="text" name="address" id="address" class="form-control" required value="{{parking_lot.address}}">
    </label>
    <label for="name" class="form-label">Pin Code:
      <input type="number" name="pin_code" id="pin_code" class="form-control" required value="{{parking_lot.pin_code}}">
    </label>
    <label for="name" class="form-label">Price(per hour):
      <input type="number" name="price" id="price" class="form-control" required value="{{parking_lot.price}}">
    </label>
    {% set occupied=parking_lot.spaces|selectattr('status','equalto','occupied')|list|length %}
    {% set available_spots=parking_lot.maximum_number_of_spots-occupied %}

    <label for="name" class="form-label">Available Spots:
      <input type="number" name="available_spots" id="available_spots" class="form-control" required value="{{available_spots}}">
    </label>

    <input type="submit" value="Save" class="btn btn-success">
  </form> 
  
{% endblock %}

{% block style %}
<style>
    h1{
       
        text-align:center;
    }
    .form{
      margin-top:20px;
      display:flex;
      flex-direction:column;
      align-items:center;
    }
</style>
{% endblock %}

